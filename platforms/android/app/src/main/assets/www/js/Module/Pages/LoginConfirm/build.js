define(["API/Register"],()=>({viewModel:function(){const RegisterAPI=require("API/Register"),Store=require("Store/Store");this.phoneNumber=this._request.phoneNumber;let isEnableButton=!1;this.afterBinding=(()=>{$(".mm-number-input-item > input").on("input",function(event){if((this.value.length>1||"e"===event.originalEvent.data)&&event.originalEvent.data&&(this.value=event.originalEvent.data),event.originalEvent.data&&"e"!==event.originalEvent.data){let nextElement=this.parentNode.nextElementSibling;nextElement&&nextElement.querySelector("input").focus()}getCode().length>=6?($(".btn-continue").css({"background-color":"#003780",color:"white"}),isEnableButton=!0):($(".btn-continue").css({"background-color":"#fff",color:"#000"}),isEnableButton=!1)})});let getCode=()=>{let code="";return $(".mm-number-input-item > input").each(function(index,e){code+=e.value}),code.trim()};this.confirm=(()=>{if(isEnableButton){let code=getCode();Store.isShowLoading(!0),RegisterAPI.phoneLogin(this.phoneNumber,code).then(res=>{console.log(res),Store.isShowLoading(!1),localStorage.setItem("appToken",res.data),app.setPage("Home")}).catch(e=>{Store.isShowLoading(!1),console.log(e)})}})},template:'\n            <div class="login-page">\n    <div class="title">\n        <div class="img-wrapper">\n            <img src="/img/logo.png">\n        </div>\n        HD System\n    </div>\n    <div class="sign-in-wrapper">\n        <div class="w-80" style="margin-bottom: 35px;">\n            <div class="phone-number" style="text-align: center;">Nhập mã bảo mật</div>\n            <div class="mm-number">\n                <div class="mm-number-container">\n                    <div class="mm-number-input">\n                        <div class="mm-number-input-container animated">\n                            <div class="mm-number-input-item">\n                                <input type="number" class="animated" min="0" max="9">\n                            </div>\n                            <div class="mm-number-input-item">\n                                <input type="number" class="animated" min="0" max="9">\n                            </div>\n                            <div class="mm-number-input-item">\n                                <input type="number" class="animated" min="0" max="9">\n                            </div>\n                            <div class="mm-number-input-item">\n                                <input type="number" class="animated" min="0" max="9">\n                            </div>\n                            <div class="mm-number-input-item">\n                                <input type="number" class="animated" min="0" max="9">\n                            </div>\n                            <div class="mm-number-input-item">\n                                <input type="number" class="animated" min="0" max="9">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="w-80">\n            <button class="btn-continue" data-bind="event: {tap: confirm}">Xác nhận</button>\n        </div>\n    </div>\n</div>\n        '}));